const test = {
  it: 'create diagram for block ("3"*("2"+"1")): test for nested non-shadow blocks',
  args: [
    {
      rendered: true,
      useDragSurface_: true,
      id: 'TYs]/gUeR_ZLPJue8pA_',
      nextConnection: null,
      previousConnection: null,
      inputList: [
        {
          type: 1,
          name: 'NUM1',
          connection: {
            type: 1,
            hidden_: false,
            targetConnection: {
              sourceBlock_: {
                rendered: true,
                useDragSurface_: true,
                id: '.+YFt]jA(5jOy.lWl}w1',
                nextConnection: null,
                previousConnection: null,
                inputList: [
                  {
                    type: 5,
                    name: '',
                    connection: null,
                    fieldRow: [
                      {
                        decimalAllowed_: true,
                        negativeAllowed_: true,
                        exponentialAllowed_: true,
                        text_: '3',
                        maxDisplayLength: null,
                        name: 'NUM',
                        arrowWidth_: 0,
                        renderWidth: 14.912036895751953,
                        renderSep: 0,
                      },
                    ],
                    outlinePath: null,
                    renderHeight: 32,
                    renderWidth: 0,
                    fieldWidth: 14.912036895751953,
                  },
                ],
                inputsInline: true,
                disabled: false,
                tooltip: '',
                contextMenu: true,
                deletable_: true,
                movable_: true,
                editable_: true,
                isShadow_: true,
                collapsed_: false,
                checkboxInFlyout_: false,
                comment: null,
                outputShape_: 2,
                category_: null,
                isInFlyout: false,
                isInMutator: false,
                RTL: false,
                isInsertionMarker_: false,
                type: 'math_number',
                colour_: '#FFFFFF',
                colourSecondary_: '#FFFFFF',
                colourTertiary_: '#389438',
                inputsInlineDefault: true,
                eventsInit_: true,
                startHat_: false,
                squareTopLeftCorner_: true,
                edgeShapeWidth_: 16,
                edgeShape_: 2,
                width: 40,
                height: 32,
              },
              type: 2,
              hidden_: false,
              x_: 130,
              y_: 338,
              inDB_: true,
            },
            x_: 130,
            y_: 338,
            inDB_: true,
          },
          fieldRow: [],
          renderHeight: 40,
          renderWidth: 40,
          fieldWidth: 0,
        },
        {
          type: 1,
          name: 'NUM2',
          connection: {
            type: 1,
            hidden_: false,
            targetConnection: {
              sourceBlock_: {
                rendered: true,
                useDragSurface_: true,
                id: 'mdT@!s,+V6|KauW!4ZbU',
                nextConnection: null,
                previousConnection: null,
                inputList: [
                  {
                    type: 1,
                    name: 'NUM1',
                    connection: {
                      type: 1,
                      hidden_: false,
                      targetConnection: {
                        sourceBlock_: {
                          rendered: true,
                          useDragSurface_: true,
                          id: 'eC0,l]nuLvV+-zqVB?Sg',
                          nextConnection: null,
                          previousConnection: null,
                          inputList: [
                            {
                              type: 5,
                              name: '',
                              connection: null,
                              fieldRow: [
                                {
                                  decimalAllowed_: true,
                                  negativeAllowed_: true,
                                  exponentialAllowed_: true,
                                  text_: '2',
                                  maxDisplayLength: null,
                                  name: 'NUM',
                                  arrowWidth_: 0,
                                  renderWidth: 14.912036895751953,
                                  renderSep: 0,
                                },
                              ],
                              outlinePath: null,
                              renderHeight: 32,
                              renderWidth: 0,
                              fieldWidth: 14.912036895751953,
                            },
                          ],
                          inputsInline: true,
                          disabled: false,
                          tooltip: '',
                          contextMenu: true,
                          deletable_: true,
                          movable_: true,
                          editable_: true,
                          isShadow_: true,
                          collapsed_: false,
                          checkboxInFlyout_: false,
                          comment: null,
                          outputShape_: 2,
                          category_: null,
                          isInFlyout: false,
                          isInMutator: false,
                          RTL: false,
                          isInsertionMarker_: false,
                          type: 'math_number',
                          colour_: '#FFFFFF',
                          colourSecondary_: '#FFFFFF',
                          colourTertiary_: '#389438',
                          inputsInlineDefault: true,
                          eventsInit_: true,
                          startHat_: false,
                          squareTopLeftCorner_: true,
                          edgeShapeWidth_: 16,
                          edgeShape_: 2,
                          width: 40,
                          height: 32,
                        },
                        type: 2,
                        hidden_: false,
                        x_: 196.234375,
                        y_: 338,
                        inDB_: true,
                      },
                      x_: 196.234375,
                      y_: 338,
                      inDB_: true,
                    },
                    fieldRow: [],
                    renderHeight: 40,
                    renderWidth: 40,
                    fieldWidth: 0,
                  },
                  {
                    type: 1,
                    name: 'NUM2',
                    connection: {
                      type: 1,
                      hidden_: false,
                      targetConnection: {
                        sourceBlock_: {
                          rendered: true,
                          useDragSurface_: true,
                          id: '-jreOS-j/F6Z;BlCC#=`',
                          nextConnection: null,
                          previousConnection: null,
                          inputList: [
                            {
                              type: 5,
                              name: '',
                              connection: null,
                              fieldRow: [
                                {
                                  decimalAllowed_: true,
                                  negativeAllowed_: true,
                                  exponentialAllowed_: true,
                                  text_: '1',
                                  maxDisplayLength: null,
                                  name: 'NUM',
                                  arrowWidth_: 0,
                                  renderWidth: 14.90625,
                                  renderSep: 0,
                                },
                              ],
                              outlinePath: null,
                              renderHeight: 32,
                              renderWidth: 0,
                              fieldWidth: 14.90625,
                            },
                          ],
                          inputsInline: true,
                          disabled: false,
                          tooltip: '',
                          contextMenu: true,
                          deletable_: true,
                          movable_: true,
                          editable_: true,
                          isShadow_: true,
                          collapsed_: false,
                          checkboxInFlyout_: false,
                          comment: null,
                          outputShape_: 2,
                          category_: null,
                          isInFlyout: false,
                          isInMutator: false,
                          RTL: false,
                          isInsertionMarker_: false,
                          type: 'math_number',
                          colour_: '#FFFFFF',
                          colourSecondary_: '#FFFFFF',
                          colourTertiary_: '#389438',
                          inputsInlineDefault: true,
                          eventsInit_: true,
                          startHat_: false,
                          squareTopLeftCorner_: true,
                          edgeShapeWidth_: 16,
                          edgeShape_: 2,
                          width: 40,
                          height: 32,
                        },
                        type: 2,
                        hidden_: false,
                        x_: 261.578125,
                        y_: 338,
                        inDB_: true,
                      },
                      x_: 261.578125,
                      y_: 338,
                      inDB_: true,
                    },
                    fieldRow: [
                      {
                        text_: '+',
                        arrowWidth_: 0,
                        renderWidth: 9.34375,
                        renderSep: 0,
                      },
                    ],
                    renderHeight: 40,
                    renderWidth: 40,
                    fieldWidth: 9.34375,
                  },
                ],
                inputsInline: true,
                disabled: false,
                tooltip: '',
                contextMenu: true,
                deletable_: true,
                movable_: true,
                editable_: true,
                isShadow_: false,
                collapsed_: false,
                checkboxInFlyout_: false,
                comment: null,
                outputShape_: 2,
                category_: 'operators',
                isInFlyout: false,
                isInMutator: false,
                RTL: false,
                isInsertionMarker_: false,
                type: 'operator_add',
                colour_: '#59C059',
                colourSecondary_: '#46B946',
                colourTertiary_: '#389438',
                inputsInlineDefault: true,
                eventsInit_: true,
                startHat_: false,
                squareTopLeftCorner_: true,
                edgeShapeWidth_: 20,
                edgeShape_: 2,
                width: 113.34375,
                height: 40,
              },
              type: 2,
              hidden_: false,
              x_: 192.234375,
              y_: 338,
              inDB_: true,
            },
            x_: 192.234375,
            y_: 338,
            inDB_: true,
          },
          fieldRow: [
            {
              text_: '*',
              arrowWidth_: 0,
              renderWidth: 6.234375,
              renderSep: 0,
            },
          ],
          renderHeight: 48,
          renderWidth: 113.34375,
          fieldWidth: 6.234375,
        },
      ],
      inputsInline: true,
      disabled: false,
      tooltip: '',
      contextMenu: true,
      parentBlock_: null,
      deletable_: true,
      movable_: true,
      editable_: true,
      isShadow_: false,
      collapsed_: false,
      checkboxInFlyout_: false,
      comment: null,
      outputShape_: 2,
      category_: 'operators',
      isInFlyout: false,
      isInMutator: false,
      RTL: false,
      isInsertionMarker_: false,
      type: 'operator_multiply',
      colour_: '#59C059',
      colourSecondary_: '#46B946',
      colourTertiary_: '#389438',
      inputsInlineDefault: true,
      eventsInit_: true,
      startHat_: false,
      squareTopLeftCorner_: true,
      edgeShapeWidth_: 24,
      edgeShape_: 2,
      width: 183.578125,
      height: 48,
      isGlowingStack_: false,
    },
    {
      topBlock: 'TYs]/gUeR_ZLPJue8pA_',
      status: 4,
      isKilled: false,
      blockContainer: {
        _cache: {
          _executeCached: {
            '.+YFt]jA(5jOy.lWl}w1': {
              id: '.+YFt]jA(5jOy.lWl}w1',
              opcode: 'math_number',
              _profiler: null,
              _profilerFrame: null,
              _isHat: false,
              _definedBlockFunction: false,
              _isShadowBlock: true,
              _shadowValue: '3',
              _parentKey: 'NUM1',
              _parentValues: { NUM1: '3', NUM2: 3 },
            },
            'eC0,l]nuLvV+-zqVB?Sg': {
              id: 'eC0,l]nuLvV+-zqVB?Sg',
              opcode: 'math_number',
              _profiler: null,
              _profilerFrame: null,
              _isHat: false,
              _definedBlockFunction: false,
              _isShadowBlock: true,
              _shadowValue: '2',
              _parentKey: 'NUM1',
              _parentValues: { NUM1: '2', NUM2: '1' },
            },
            '-jreOS-j/F6Z;BlCC#=`': {
              id: '-jreOS-j/F6Z;BlCC#=`',
              opcode: 'math_number',
              _profiler: null,
              _profilerFrame: null,
              _isHat: false,
              _definedBlockFunction: false,
              _isShadowBlock: true,
              _shadowValue: '1',
              _parentKey: 'NUM2',
              _parentValues: { NUM1: '2', NUM2: '1' },
            },
            'mdT@!s,+V6|KauW!4ZbU': {
              id: 'mdT@!s,+V6|KauW!4ZbU',
              opcode: 'operator_add',
              _profiler: null,
              _profilerFrame: null,
              _isHat: false,
              _definedBlockFunction: true,
              _isShadowBlock: false,
              _shadowValue: false,
              _parentKey: 'NUM2',
              _parentValues: { NUM1: '3', NUM2: 3 },
            },
            'TYs]/gUeR_ZLPJue8pA_': {
              id: 'TYs]/gUeR_ZLPJue8pA_',
              opcode: 'operator_multiply',
              _profiler: null,
              _profilerFrame: null,
              _isHat: false,
              _definedBlockFunction: true,
              _isShadowBlock: false,
              _shadowValue: false,
              _parentKey: null,
              _parentValues: null,
            },
          },
        },
      },
      requestScriptGlowInFrame: true,
      blockGlowInFrame: 'TYs]/gUeR_ZLPJue8pA_',
      warpTimer: null,
      justReported: 9,
      stackClick: false,
      updateMonitor: false,
    },
  ],
  expected: {
    nodes: [
      {
        nodePlug: { valA: 1, valB: 0 },
        content: [{ content: '3' }],
        type: 'Number',
        value: '3',
      },
      {
        nodePlug: { valA: 3, valB: 0 },
        content: [{ content: '2' }],
        type: 'Number',
        value: '2',
      },
      {
        nodePlug: { valA: 4, valB: 0 },
        content: [{ content: '1' }],
        type: 'Number',
        value: '1',
      },
      {
        nodePlug: { valA: 2, valB: 0 },
        content: [
          { valA: 2, valB: 1, type: 'Number' },
          { content: ' + ' },
          { valA: 2, valB: 2, type: 'Number' },
        ],
        type: 'Number',
        value: '3',
      },
      {
        nodePlug: { valA: 0, valB: 0 },
        content: [
          { valA: 0, valB: 1, type: 'Number' },
          { content: ' * ' },
          { valA: 0, valB: 2, type: 'Number' },
        ],
        type: 'Number',
        value: '9',
      },
    ],
    edges: [
      {
        plugA: { valA: 0, valB: 1, type: 'Number' },
        plugB: { valA: 1, valB: 0 },
      },
      {
        plugA: { valA: 0, valB: 2, type: 'Number' },
        plugB: { valA: 2, valB: 0 },
      },
      {
        plugA: { valA: 2, valB: 1, type: 'Number' },
        plugB: { valA: 3, valB: 0 },
      },
      {
        plugA: { valA: 2, valB: 2, type: 'Number' },
        plugB: { valA: 4, valB: 0 },
      },
    ],
    root: {
      nodePlug: { valA: 0, valB: 0 },
      content: [
        { valA: 0, valB: 1, type: 'Number' },
        { content: ' * ' },
        { valA: 0, valB: 2, type: 'Number' },
      ],
      type: 'Number',
      value: '9',
    },
  },
};

export default test;
